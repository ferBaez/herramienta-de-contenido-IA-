<!DOCTYPE html>
<html lang="es">
<head>
    <!-- ============== METADATOS ESENCIALES PARA SEO ============== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herramientas de Imagen: Creador de Íconos y Optimizador WebP</title>
    <meta name="description" content="Crea favicons para tu web a partir de tu logo, explora nuestra biblioteca de íconos SVG y optimiza tus imágenes convirtiéndolas al formato WebP. Herramientas de imagen todo en uno.">
    <meta name="keywords" content="generador de favicon, creador de iconos, biblioteca de iconos, iconos svg, optimizador de imágenes, convertir a webp, comprimir imágenes, descargar iconos, herramienta web, hitster ai">
    <meta name="author" content="Hitster Ai">
    
    <!-- ============== ETIQUETAS OPEN GRAPH (PARA REDES SOCIALES) ============== -->
    <meta property="og:title" content="Herramientas de Imagen | Creador de Íconos y Optimizador WebP">
    <meta property="og:description" content="Sube tu logo para crear favicons, descarga íconos SVG personalizables y optimiza tus imágenes a WebP para mejorar la velocidad de tu sitio.">
    <meta property="og:type" content="website">
    <!-- IMPORTANTE: Reemplaza la URL de abajo con la URL final de tu sitio en GitHub Pages -->
    <meta property="og:url" content="https://TU_USUARIO_DE_GITHUB.github.io/TU_REPOSITORIO/">
    <meta property="og:image" content="https://placehold.co/1200x630/6d28d9/ffffff?text=Herramientas+de+Imagen">
    <meta property="og:image:alt" content="Una imagen mostrando el título de las Herramientas de Imagen">

    <!-- ============== ETIQUETAS TWITTER CARD ============== -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Herramientas de Imagen | Creador de Íconos y Optimizador WebP">
    <meta name="twitter:description" content="Sube tu logo para crear favicons, descarga íconos SVG personalizables y optimiza tus imágenes a WebP.">
    <!-- IMPORTANTE: Reemplaza la URL de la imagen si tienes una propia -->
    <meta name="twitter:image" content="https://placehold.co/1200x630/6d28d9/ffffff?text=Herramientas+de+Imagen">

    <!-- ============== URL CANÓNICA ============== -->
    <!-- IMPORTANTE: Reemplaza la URL de abajo con la URL final de tu sitio en GitHub Pages -->
    <link rel="canonical" href="https://TU_USUARIO_DE_GITHUB.github.io/TU_REPOSITORIO/">
    
    <!-- ============== ESTILOS Y FUENTES ============== -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .transition-all-ease { transition: all 0.3s ease-in-out; }
        .tab-active { background-color: #4f46e5; color: white; }
        .dark .tab-active { background-color: #6366f1; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #4f46e5; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        .dark .loader { border: 4px solid #4b5563; border-top: 4px solid #6366f1; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        input[type="file"]::file-selector-button { @apply bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg cursor-pointer hover:bg-indigo-700 transition-all-ease; }
        .dark input[type="file"]::file-selector-button { @apply bg-indigo-500 hover:bg-indigo-600; }
        .icon-gallery-item { @apply p-4 bg-gray-100 dark:bg-gray-800 rounded-lg cursor-pointer border-2 border-transparent hover:border-indigo-500 transition-all-ease; }
        .icon-gallery-item.selected { @apply border-indigo-600 bg-indigo-100 dark:bg-indigo-900; }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-all-ease flex flex-col min-h-screen">

    <div class="flex-grow container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-indigo-600 dark:text-indigo-400">Herramientas de Imagen</h1>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">Crea y optimiza imágenes para tus proyectos web.</p>
        </header>

        <!-- Tabs for navigation -->
        <div class="mb-8 flex flex-col sm:flex-row justify-center bg-gray-200 dark:bg-gray-800 rounded-lg p-1 max-w-sm sm:max-w-lg mx-auto">
            <button id="tab-optimizer" class="tab flex-1 py-2 px-4 rounded-md font-semibold transition-all-ease tab-active">Optimizador de Imágenes</button>
            <button id="tab-icon-creator" class="tab flex-1 py-2 px-4 rounded-md font-semibold transition-all-ease">Creador de Íconos</button>
        </div>
        
        <!-- Image Optimizer Section -->
        <main id="optimizer-section" class="space-y-6">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                <div class="flex flex-col items-center gap-6">
                    <div class="w-full max-w-lg">
                        <label for="image-upload" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">1. Sube una imagen para optimizarla:</label>
                        <input id="image-upload" type="file" accept="image/png, image/jpeg, image/gif" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 dark:file:bg-indigo-900 file:text-indigo-700 dark:file:text-indigo-300 hover:file:bg-indigo-100 dark:hover:file:bg-indigo-800"/>
                    </div>
                    <div id="optimizer-loader" class="hidden justify-center items-center mt-6 w-full"><div class="loader"></div><p class="ml-4">Optimizando imagen...</p></div>
                    <div id="optimizer-output" class="hidden grid grid-cols-1 md:grid-cols-2 gap-6 mt-6 w-full max-w-4xl">
                        <div>
                            <h3 class="font-semibold text-lg mb-2">Original</h3>
                            <img id="original-image" src="" alt="Imagen Original" class="rounded-lg shadow-md w-full" onerror="this.style.display='none'">
                            <p id="original-size" class="text-sm mt-2 text-center"></p>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg mb-2">Optimizada (WebP)</h3>
                            <img id="optimized-image" src="" alt="Imagen Optimizada" class="rounded-lg shadow-md w-full" onerror="this.style.display='none'">
                            <p id="optimized-size" class="text-sm mt-2 text-center font-bold"></p>
                        </div>
                        <div class="md:col-span-2 mt-4 space-y-4">
                            <div>
                                <label for="alt-text-input" class="block text-sm font-medium text-gray-700 dark:text-gray-300">2. Escribe un texto alternativo (opcional):</label>
                                <input type="text" id="alt-text-input" class="mt-1 block w-full rounded-md bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" placeholder="Ej: Gato siamés sentado en un sofá rojo">
                            </div>
                            <a id="download-btn" href="#" download="optimized_image.webp" class="w-full block text-center bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 dark:bg-green-500 dark:hover:bg-green-600 transition-all-ease">
                                ⬇️ Descargar Imagen Optimizada
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Icon Creator Section -->
        <main id="icon-creator-section" class="hidden space-y-6">
            <!-- Favicon Generator -->
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center">Convierte tu Imagen en un Ícono Web (Favicon)</h2>
                <div class="flex flex-col items-center gap-6">
                    <div class="w-full max-w-lg">
                        <label for="favicon-upload" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">1. Sube tu logo o imagen (se recomienda cuadrada):</label>
                        <input id="favicon-upload" type="file" accept="image/png, image/jpeg" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 dark:file:bg-purple-900 file:text-purple-700 dark:file:text-purple-300 hover:file:bg-purple-100 dark:hover:file:bg-purple-800"/>
                    </div>
                    <div id="favicon-output" class="hidden w-full max-w-4xl space-y-6">
                        <div>
                           <h3 class="font-semibold text-lg mb-2">2. Descarga tus Íconos</h3>
                           <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                               <!-- Favicon previews will be injected here -->
                           </div>
                        </div>
                        <div>
                            <h3 class="font-semibold text-lg mb-2">3. Copia este código en el &lt;head&gt; de tu web</h3>
                            <pre class="bg-gray-100 dark:bg-gray-900 text-sm p-4 rounded-lg overflow-x-auto"><code id="favicon-html-code"></code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SVG Icon Library -->
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg">
                <h2 class="text-2xl font-bold mb-4 text-center border-t pt-6 mt-6 border-gray-200 dark:border-gray-700">O Explora Nuestra Biblioteca de Íconos SVG</h2>
                 <div class="flex flex-col lg:flex-row items-start gap-8">
                    <!-- Icon Gallery -->
                    <div class="w-full lg:w-2/3">
                        <h3 class="font-semibold text-lg mb-4">1. Selecciona un Ícono</h3>
                        <div id="icon-gallery" class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-4">
                           <!-- Icons will be injected by JS -->
                        </div>
                    </div>
                    <!-- Customization and Download -->
                    <div class="w-full lg:w-1/3 sticky top-8">
                        <h3 class="font-semibold text-lg mb-4">2. Personaliza y Descarga</h3>
                        <div id="icon-customizer" class="hidden flex-col items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg">
                            <div id="icon-preview" class="p-4 bg-gray-200 dark:bg-gray-700 rounded-lg w-40 h-40 flex items-center justify-center">
                                <!-- Selected icon preview will be injected by JS -->
                            </div>
                            <div class="w-full">
                                <label for="icon-color-picker" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Cambiar color:</label>
                                <input type="color" id="icon-color-picker" value="#4f46e5" class="mt-1 w-full h-10 rounded-md border-gray-300">
                            </div>
                             <div class="w-full space-y-2">
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Descargar como PNG:</label>
                                <div class="flex justify-between gap-2">
                                     <button data-size="64" class="download-png-btn flex-1 bg-green-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-green-700 transition-all-ease">64px</button>
                                     <button data-size="128" class="download-png-btn flex-1 bg-green-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-green-700 transition-all-ease">128px</button>
                                     <button data-size="256" class="download-png-btn flex-1 bg-green-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-green-700 transition-all-ease">256px</button>
                                </div>
                             </div>
                        </div>
                        <p id="icon-placeholder" class="text-center text-gray-500 p-8">Selecciona un ícono de la galería para empezar.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer class="text-center p-4 mt-8 border-t border-gray-200 dark:border-gray-800">
        <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">
            Diseñado por Hitster Ai | <a href="mailto:baez@hitster.page" class="text-indigo-600 dark:text-indigo-400 hover:underline">Contáctanos</a>
        </p>
        <p class="text-sm text-gray-500 dark:text-gray-400">
            &copy; 2025 Todos los derechos reservados para Hitster Ai
        </p>
    </footer>

    <script type="module">
        // --- NAVIGATION ---
        const tabs = {
            optimizer: { btn: document.getElementById('tab-optimizer'), section: document.getElementById('optimizer-section') },
            iconCreator: { btn: document.getElementById('tab-icon-creator'), section: document.getElementById('icon-creator-section') }
        };

        function switchTab(activeKey) {
            Object.keys(tabs).forEach(key => {
                const isActive = key === activeKey;
                tabs[key].btn.classList.toggle('tab-active', isActive);
                tabs[key].section.classList.toggle('hidden', !isActive);
            });
        }
        
        tabs.optimizer.btn.addEventListener('click', () => switchTab('optimizer'));
        tabs.iconCreator.btn.addEventListener('click', () => switchTab('iconCreator'));

        // --- IMAGE OPTIMIZER ---
        const imageUpload = document.getElementById('image-upload');
        const optimizerLoader = document.getElementById('optimizer-loader');
        const optimizerOutput = document.getElementById('optimizer-output');
        const originalImage = document.getElementById('original-image');
        const originalSize = document.getElementById('original-size');
        const optimizedImage = document.getElementById('optimized-image');
        const optimizedSize = document.getElementById('optimized-size');
        const downloadBtn = document.getElementById('download-btn');
        const altTextInput = document.getElementById('alt-text-input');

        imageUpload.addEventListener('change', async (event) => {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                optimizerOutput.classList.add('hidden');
                return;
            }
            optimizerOutput.classList.add('hidden');
            optimizerLoader.classList.remove('hidden');
            originalImage.src = URL.createObjectURL(file);
            originalImage.style.display = 'block';
            originalSize.textContent = `Tamaño: ${(file.size / 1024).toFixed(2)} KB`;
            try {
                const optimizedBlob = await optimizeImage(file);
                optimizedImage.src = URL.createObjectURL(optimizedBlob);
                optimizedImage.style.display = 'block';
                downloadBtn.href = optimizedImage.src;
                const sizeReduction = 100 - (optimizedBlob.size / file.size) * 100;
                optimizedSize.innerHTML = `Tamaño: ${(optimizedBlob.size / 1024).toFixed(2)} KB <span class="text-green-500">(${sizeReduction.toFixed(1)}% menos)</span>`;
                optimizerLoader.classList.add('hidden');
                optimizerOutput.classList.remove('hidden');
            } catch (error) {
                console.error("Error al optimizar la imagen:", error);
                alert("No se pudo optimizar la imagen. Por favor, intenta con otro archivo.");
                optimizerLoader.classList.add('hidden');
            }
        });
        
        altTextInput.addEventListener('input', () => {
            optimizedImage.alt = altTextInput.value;
        });

        function optimizeImage(file, quality = 0.75) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = e => {
                    const img = new Image();
                    img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        const ctx = canvas.getContext('2d');
                        if (ctx) {
                            ctx.drawImage(img, 0, 0);
                            canvas.toBlob(blob => blob ? resolve(blob) : reject(new Error("La creación del Blob falló.")), 'image/webp', quality);
                        } else {
                            reject(new Error("No se pudo obtener el contexto 2D del canvas."));
                        }
                    };
                    img.onerror = reject;
                };
                reader.onerror = reject;
            });
        }

        // --- FAVICON GENERATOR ---
        const faviconUpload = document.getElementById('favicon-upload');
        const faviconOutput = document.getElementById('favicon-output');
        const faviconHtmlCode = document.getElementById('favicon-html-code');

        faviconUpload.addEventListener('change', async (event) => {
            const file = event.target.files[0];
            if (!file || !file.type.startsWith('image/')) {
                faviconOutput.classList.add('hidden');
                return;
            }
            
            const image = new Image();
            image.src = URL.createObjectURL(file);
            await new Promise(resolve => image.onload = resolve);

            const sizes = [
                { size: 32, id: 'favicon-32' },
                { size: 16, id: 'favicon-16' },
                { size: 180, id: 'apple-touch-icon' },
                { size: 192, id: 'android-chrome-192' }
            ];

            const previewContainer = faviconOutput.querySelector('.grid');
            previewContainer.innerHTML = ''; // Clear previous results

            for (const item of sizes) {
                const canvas = document.createElement('canvas');
                canvas.width = item.size;
                canvas.height = item.size;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(image, 0, 0, item.size, item.size);
                
                const dataUrl = canvas.toDataURL('image/png');
                
                const previewHtml = `
                    <div class="flex flex-col items-center gap-2">
                        <img src="${dataUrl}" alt="Icono de ${item.size}x${item.size}" class="w-16 h-16 border rounded-md">
                        <p class="text-xs font-mono">${item.size}x${item.size}</p>
                        <a href="${dataUrl}" download="favicon-${item.size}x${item.size}.png" class="text-sm text-indigo-600 hover:underline">Descargar</a>
                    </div>
                `;
                previewContainer.innerHTML += previewHtml;
            }

            faviconHtmlCode.textContent = 
`<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">`;
            
            faviconOutput.classList.remove('hidden');
        });
        
        // --- ICON LIBRARY ---
        const iconGallery = document.getElementById('icon-gallery');
        const iconCustomizer = document.getElementById('icon-customizer
